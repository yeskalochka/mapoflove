@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Map Of Love Design System - Dark theme with red neon accents */

@layer base {
  :root {
    /* Dark Base Colors */
    --background: 210 15% 7%;         /* #0f1115 */
    --surface: 215 20% 11%;           /* #141722 */
    --surface-elevated: 218 18% 16%;  /* #1a1f2b */
    --surface-higher: 220 16% 20%;    /* #202536 */
    
    /* Text Colors */
    --foreground: 240 10% 92%;        /* #EAEAF2 */
    --foreground-secondary: 240 8% 68%; /* #A4A7B7 */
    
    /* Brand Red Neon */
    --neon-red: 348 100% 58%;         /* #FF2E4C */
    --neon-red-dark: 350 82% 42%;     /* #B5152A */
    --neon-red-glow: 348 100% 58% / 0.25;
    
    /* Status Colors */
    --success: 160 84% 57%;           /* #38E2A7 */
    --warning: 42 95% 67%;            /* #FFC857 */
    --info: 220 85% 75%;              /* #7AA2FF */
    
    /* Legacy mappings for compatibility */
    --primary: 348 100% 58%;
    --primary-foreground: 240 10% 92%;
    --secondary: 215 20% 11%;
    --secondary-foreground: 240 10% 92%;
    --muted: 220 16% 20%;
    --muted-foreground: 240 8% 68%;
    --accent: 348 100% 58%;
    --accent-foreground: 240 10% 92%;
    --destructive: 348 100% 58%;
    --destructive-foreground: 240 10% 92%;
    --border: 220 16% 20%;
    --input: 220 16% 20%;
    --ring: 348 100% 58%;
    --card: 215 20% 11%;
    --card-foreground: 240 10% 92%;
    --popover: 215 20% 11%;
    --popover-foreground: 240 10% 92%;

    --radius: 1rem;
    
    /* Glass blur effects */
    --glass-blur: blur(8px);
    --glass-bg: 215 20% 11% / 0.8;
    
    /* Animation easing */
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    background: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Cormorant Garamond', serif;
  }
}

@layer components {
  /* Loader Animation */
  .loader {
    width: 60px;
    aspect-ratio: 1;
    background: linear-gradient(hsl(var(--neon-red)) 0 0) bottom/100% 0% no-repeat hsl(var(--muted));
    -webkit-mask: 
      radial-gradient(circle at 60% 65%, #000 62%, #0000 65%) top left,
      radial-gradient(circle at 40% 65%, #000 62%, #0000 65%) top right,
      linear-gradient(to bottom left, #000 42%, #0000 43%) bottom left,
      linear-gradient(to bottom right, #000 42%, #0000 43%) bottom right;
    -webkit-mask-size: 50% 50%;
    -webkit-mask-repeat: no-repeat;
    animation: loader-fill 2s infinite linear;
  }

  /* Neon Button Base */
  .btn-neon {
    @apply relative font-bold rounded-full transition-all duration-300;
    background: hsl(var(--neon-red));
    color: hsl(var(--background));
    box-shadow: 
      0 0 20px hsl(var(--neon-red-glow)),
      0 4px 15px hsl(var(--neon-red) / 0.4);
    border: 2px solid hsl(var(--neon-red));
  }

  .btn-neon:hover {
    transform: translateY(-2px);
    box-shadow: 
      0 0 30px hsl(var(--neon-red-glow)),
      0 8px 25px hsl(var(--neon-red) / 0.5);
  }

  .btn-neon:active {
    transform: translateY(0);
  }

  /* Outline Button */
  .btn-outline {
    @apply relative font-bold rounded-full border-2 transition-all duration-300;
    border-color: hsl(var(--foreground-secondary));
    color: hsl(var(--foreground));
    background: transparent;
  }

  .btn-outline:hover {
    border-color: hsl(var(--neon-red));
    color: hsl(var(--neon-red));
    box-shadow: 0 0 20px hsl(var(--neon-red-glow));
  }

  /* Press Button Animation */
  .btn-press {
    @apply cursor-pointer font-bold rounded-full transition-transform duration-150;
    color: hsl(var(--background));
    background: hsl(var(--surface-higher));
    padding: 0.8em 2.2em;
    border: 6px solid hsl(var(--neon-red) / 0.6);
    box-shadow: 0px 8px hsl(var(--neon-red-dark));
  }

  .btn-press:active {
    transform: translateY(8px);
    box-shadow: 0px 0px;
    border-color: hsl(var(--neon-red));
  }

  /* Glass Input */
  .input-glass {
    @apply w-full rounded-full border-none outline-none px-5 py-3 text-white placeholder-gray-400;
    background: none;
    box-shadow: inset 2px 5px 10px rgba(5, 5, 5, 0.9);
    transition: all 0.3s var(--ease-smooth);
  }

  .input-glass:focus {
    box-shadow: 
      inset 2px 5px 10px rgba(5, 5, 5, 0.9),
      0 0 0 2px hsl(var(--neon-red) / 0.5);
  }

  /* Checkbox Animated */
  .checkbox-animated {
    @apply relative h-12 w-12 rounded-2xl cursor-pointer;
    background: hsl(var(--surface-elevated));
    box-shadow: 
      inset -1px 1px 4px 0px hsl(var(--foreground) / 0.1),
      inset 1px -1px 4px 0px hsl(var(--neon-red) / 0.3),
      -1px 2px 4px 0px hsl(var(--neon-red) / 0.2);
    transition: all 0.3s var(--ease-bounce);
  }

  .checkbox-animated input {
    @apply appearance-none absolute inset-0;
  }

  .checkbox-animated .checkbox-indicator {
    @apply absolute inset-2 rounded-xl transition-all duration-300;
    background: hsl(var(--surface-higher));
    box-shadow: 
      inset -1px 1px 4px 0px hsl(var(--foreground) / 0.1),
      inset 1px -1px 4px 0px hsl(var(--neon-red) / 0.3);
  }

  .checkbox-animated input:checked + .checkbox-indicator {
    box-shadow: 
      inset 1px -1px 4px 0px hsl(var(--foreground) / 0.1),
      inset -1px 1px 4px 0px hsl(var(--neon-red) / 0.3);
  }

  /* Toggle Switch */
  .toggle-switch {
    @apply relative w-16 h-8;
  }

  .toggle-switch input {
    @apply opacity-0;
  }

  .toggle-slider {
    @apply absolute cursor-pointer top-0 left-0 right-0 bottom-0 rounded-full border-2 transition-all duration-300;
    border-color: hsl(var(--foreground-secondary));
    background-color: hsl(var(--surface));
    box-shadow: 4px 4px hsl(var(--foreground-secondary));
  }

  .toggle-slider:before {
    @apply absolute h-6 w-6 left-0.5 bottom-0 rounded-full text-xs font-semibold flex items-center justify-center transition-all duration-300;
    content: "off";
    border: 2px solid hsl(var(--foreground-secondary));
    background-color: hsl(var(--background));
    color: hsl(var(--foreground-secondary));
  }

  .toggle-switch input:checked + .toggle-slider {
    background-color: hsl(var(--neon-red));
    transform: translateX(-32px);
  }

  .toggle-switch input:checked + .toggle-slider:before {
    content: "on";
    transform: translateX(32px);
    color: hsl(var(--neon-red));
    border-color: hsl(var(--neon-red));
  }

  /* Cart Button with Tooltip */
  .cart-btn {
    @apply relative overflow-hidden rounded-lg cursor-pointer;
    width: 140px;
    height: 42px;
    background: hsl(var(--surface-elevated));
    transition: background 0.7s var(--ease-smooth);
  }

  .cart-btn::before {
    @apply absolute opacity-0 invisible transition-all duration-500 text-xs text-white rounded px-2 py-1;
    content: attr(data-tooltip);
    width: 90px;
    height: 35px;
    background-color: hsl(var(--surface-higher));
    bottom: calc(42px + 18px + 10px);
    left: calc(50% - 45px);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .cart-btn .btn-text {
    @apply absolute w-full h-full flex items-center justify-center text-white transition-all duration-500 top-0;
  }

  .cart-btn .btn-icon {
    @apply absolute w-full h-full flex items-center justify-center text-white transition-all duration-500;
    top: 100%;
  }

  .cart-btn:hover {
    background: hsl(var(--neon-red));
  }

  .cart-btn:hover .btn-text {
    top: -100%;
  }

  .cart-btn:hover .btn-icon {
    top: 0;
  }

  .cart-btn:hover::before {
    @apply opacity-100 visible;
    bottom: calc(42px + 18px);
  }

  /* 3D Interactive Card */
  .card-3d {
    @apply relative transition-all duration-700;
    width: 190px;
    height: 254px;
    perspective: 800px;
  }

  .card-3d:active {
    width: 180px;
    height: 245px;
  }

  .card-3d .card-inner {
    @apply absolute inset-0 flex justify-center items-center rounded-2xl transition-all duration-700;
    background: linear-gradient(43deg, hsl(var(--neon-red)) 0%, hsl(var(--info)) 46%, hsl(var(--warning)) 100%);
    z-index: 0;
  }

  .card-3d .card-inner::before {
    @apply absolute w-full h-full rounded-2xl transition-all duration-200 -z-10;
    content: '';
    background: linear-gradient(43deg, hsl(var(--neon-red)) 0%, hsl(var(--info)) 46%, hsl(var(--warning)) 100%);
    filter: blur(2rem);
    opacity: 30%;
  }

  .card-3d:hover .card-inner::before {
    transition: 200ms;
    opacity: 80%;
  }

  .card-3d .card-title {
    @apply absolute text-xl font-bold text-white opacity-0 transition-all duration-300;
    transition-delay: 100ms;
  }

  .card-3d:hover .card-title {
    opacity: 1;
  }

  .card-3d .card-prompt {
    @apply absolute bottom-2 left-3 text-lg font-bold text-white max-w-28 transition-all duration-300;
  }

  .card-3d:hover .card-prompt {
    opacity: 0;
  }

  .card-3d:hover .card-inner {
    filter: brightness(1.1);
  }

  /* Tracker Grid for 3D Card */
  .tracker-grid {
    @apply absolute inset-0 grid grid-cols-5 grid-rows-5 gap-0 z-20;
  }

  .tracker {
    @apply cursor-pointer;
  }

  /* Radio Glass Selector */
  .radio-glass {
    @apply flex h-52 items-center;
  }

  .radio-glass .glass-container {
    @apply relative h-full w-24 mr-6 p-2 rounded-full;
    background-color: hsl(var(--surface) / 0.5);
    box-shadow: 
      rgba(50, 50, 93, 0.2) 0px 25px 50px -10px,
      rgba(0, 0, 0, 0.25) 0px 10px 30px -15px,
      rgba(10, 37, 64, 0.26) 0px -2px 6px 0px inset;
    backdrop-filter: var(--glass-blur);
    z-index: 2;
  }

  .radio-glass .glass-inner {
    @apply w-full h-full rounded-3xl border-8;
    border-color: hsl(var(--foreground) / 0.45);
  }

  .radio-glass .choice {
    @apply flex items-center my-3;
  }

  .radio-glass .choice-wrapper {
    @apply relative w-10 h-10 mr-4;
  }

  .radio-glass .choice-circle {
    @apply appearance-none h-full w-full rounded-full border-8 cursor-pointer;
    border-color: hsl(var(--foreground) / 0.45);
    box-shadow: 
      0px 0px 20px -13px gray,
      0px 0px 20px -14px gray inset;
  }

  .radio-glass .choice-ball {
    @apply absolute inset-0 rounded-full transition-transform duration-800 z-10;
    background-color: hsl(var(--foreground));
    transform: translateX(-95px);
    transition-timing-function: cubic-bezier(1, -0.4, 0, 1.4);
    box-shadow: 
      rgba(0, 0, 0, 0.17) 0px -10px 10px 0px inset,
      rgba(0, 0, 0, 0.15) 0px -15px 15px 0px inset,
      rgba(0, 0, 0, 0.1) 0px -40px 20px 0px inset,
      rgba(0, 0, 0, 0.06) 0px 2px 1px,
      rgba(0, 0, 0, 0.09) 0px 4px 2px,
      rgba(0, 0, 0, 0.09) 0px 8px 4px,
      rgba(0, 0, 0, 0.09) 0px 16px 8px,
      rgba(0, 0, 0, 0.09) 0px 32px 16px;
  }

  .radio-glass .choice-circle:checked + .choice-ball {
    transform: translateX(0px);
  }

  .radio-glass .choice-name {
    @apply text-3xl font-black font-mono cursor-pointer;
    color: hsl(var(--foreground-secondary));
  }

  /* Marquee Animation */
  .marquee {
    @apply relative overflow-hidden;
  }

  .marquee-content {
    @apply flex whitespace-nowrap;
    animation: marquee 20s linear infinite;
  }

  .marquee-item {
    @apply inline-block px-8 text-lg font-medium;
    color: hsl(var(--foreground-secondary));
  }

  /* Glass Header */
  .header-glass {
    @apply fixed top-0 left-0 right-0 z-50 p-4;
    background: hsl(var(--glass-bg));
    backdrop-filter: var(--glass-blur);
    border-bottom: 1px solid hsl(var(--border));
  }

  /* Sticky Section */
  .sticky-section {
    @apply relative;
  }

  .sticky-content {
    @apply sticky top-1/2 transform -translate-y-1/2;
  }

  /* Accordion */
  .accordion-item {
    @apply border-b border-border;
  }

  .accordion-trigger {
    @apply w-full text-left py-6 font-medium text-lg transition-all duration-300;
    color: hsl(var(--foreground));
  }

  .accordion-trigger:hover {
    color: hsl(var(--neon-red));
  }

  .accordion-trigger[data-state="open"] {
    color: hsl(var(--neon-red));
    text-shadow: 0 0 10px hsl(var(--neon-red-glow));
  }

  .accordion-content {
    @apply overflow-hidden transition-all duration-300;
  }

  .accordion-content[data-state="open"] {
    animation: accordion-down 0.3s ease-out;
  }

  .accordion-content[data-state="closed"] {
    animation: accordion-up 0.3s ease-out;
  }

  /* Messenger Icons */
  .messenger-icons {
    @apply flex gap-4;
  }

  .messenger-icon {
    @apply relative block w-12 h-12 rounded-full overflow-hidden transition-transform duration-300;
  }

  .messenger-icon .icon-bg {
    @apply absolute inset-0 rounded-full transition-transform duration-500 scale-0;
  }

  .messenger-icon:hover .icon-bg {
    transform: scale(1);
  }

  .messenger-icon svg {
    @apply relative z-10 w-full h-full p-2 transition-colors duration-300;
  }

  .messenger-icon[data-social="telegram"] .icon-bg {
    background: #0088cc;
  }

  .messenger-icon[data-social="vk"] .icon-bg {
    background: #4680c2;
  }

  .messenger-icon[data-social="whatsapp"] .icon-bg {
    background: #25D366;
  }

  .messenger-icon[data-social="instagram"] .icon-bg {
    background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
  }

  /* Product Card */
  .product-card {
    @apply relative rounded-2xl overflow-hidden transition-all duration-300 cursor-pointer;
    background: hsl(var(--surface));
  }

  .product-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
      0 20px 40px hsl(var(--neon-red) / 0.1),
      0 0 0 1px hsl(var(--neon-red) / 0.2);
  }

  .product-card .product-image {
    @apply relative aspect-[4/5] overflow-hidden;
  }

  .product-card:hover .product-image img {
    transform: scale(1.05);
  }

  .product-card img {
    @apply w-full h-full object-cover transition-transform duration-500;
  }

  /* Page transitions */
  .page-enter {
    opacity: 0;
    transform: translateY(20px);
  }

  .page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.3s ease-out, transform 0.3s ease-out;
  }

  .page-exit {
    opacity: 1;
    transform: translateY(0);
  }

  .page-exit-active {
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 0.3s ease-out, transform 0.3s ease-out;
  }

  /* Fade up stagger animation */
  .fade-up {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeUp 0.6s ease-out forwards;
  }

  .fade-up-delay-1 { animation-delay: 0.1s; }
  .fade-up-delay-2 { animation-delay: 0.2s; }
  .fade-up-delay-3 { animation-delay: 0.3s; }
  .fade-up-delay-4 { animation-delay: 0.4s; }
}

@layer utilities {
  .text-neon {
    color: hsl(var(--neon-red));
    text-shadow: 0 0 10px hsl(var(--neon-red-glow));
  }

  .glow-neon {
    box-shadow: 0 0 20px hsl(var(--neon-red-glow));
  }

  .glow-neon-strong {
    box-shadow: 
      0 0 20px hsl(var(--neon-red-glow)),
      0 0 40px hsl(var(--neon-red-glow)),
      0 0 60px hsl(var(--neon-red-glow));
  }

  .bg-glass {
    background: hsl(var(--glass-bg));
    backdrop-filter: var(--glass-blur);
  }

  .bg-surface {
    background: hsl(var(--surface));
  }

  .bg-surface-elevated {
    background: hsl(var(--surface-elevated));
  }

  .bg-surface-higher {
    background: hsl(var(--surface-higher));
  }

  .text-secondary {
    color: hsl(var(--foreground-secondary));
  }

  .border-neon {
    border-color: hsl(var(--neon-red));
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Parallax container */
  .parallax {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Hover animations */
  .hover-lift {
    transition: transform 0.3s ease-out;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
  }

  .hover-glow {
    transition: box-shadow 0.3s ease-out;
  }

  .hover-glow:hover {
    box-shadow: 0 0 20px hsl(var(--neon-red-glow));
  }

  .hover-scale {
    transition: transform 0.3s ease-out;
  }

  .hover-scale:hover {
    transform: scale(1.05);
  }
}

/* Keyframe Animations */
@keyframes loader-fill {
  90%, 100% { 
    background-size: 100% 100%; 
  }
}

@keyframes marquee {
  0% { 
    transform: translateX(100%); 
  }
  100% { 
    transform: translateX(-100%); 
  }
}

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes accordion-down {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
  to {
    height: 0;
    opacity: 0;
  }
}

/* 3D Card Hover Effects */
.tracker:nth-child(1):hover ~ .card-inner { transform: rotateX(20deg) rotateY(-10deg); }
.tracker:nth-child(2):hover ~ .card-inner { transform: rotateX(20deg) rotateY(-5deg); }
.tracker:nth-child(3):hover ~ .card-inner { transform: rotateX(20deg) rotateY(0deg); }
.tracker:nth-child(4):hover ~ .card-inner { transform: rotateX(20deg) rotateY(5deg); }
.tracker:nth-child(5):hover ~ .card-inner { transform: rotateX(20deg) rotateY(10deg); }
.tracker:nth-child(6):hover ~ .card-inner { transform: rotateX(10deg) rotateY(-10deg); }
.tracker:nth-child(7):hover ~ .card-inner { transform: rotateX(10deg) rotateY(-5deg); }
.tracker:nth-child(8):hover ~ .card-inner { transform: rotateX(10deg) rotateY(0deg); }
.tracker:nth-child(9):hover ~ .card-inner { transform: rotateX(10deg) rotateY(5deg); }
.tracker:nth-child(10):hover ~ .card-inner { transform: rotateX(10deg) rotateY(10deg); }
.tracker:nth-child(11):hover ~ .card-inner { transform: rotateX(0deg) rotateY(-10deg); }
.tracker:nth-child(12):hover ~ .card-inner { transform: rotateX(0deg) rotateY(-5deg); }
.tracker:nth-child(13):hover ~ .card-inner { transform: rotateX(0deg) rotateY(0deg); }
.tracker:nth-child(14):hover ~ .card-inner { transform: rotateX(0deg) rotateY(5deg); }
.tracker:nth-child(15):hover ~ .card-inner { transform: rotateX(0deg) rotateY(10deg); }
.tracker:nth-child(16):hover ~ .card-inner { transform: rotateX(-10deg) rotateY(-10deg); }
.tracker:nth-child(17):hover ~ .card-inner { transform: rotateX(-10deg) rotateY(-5deg); }
.tracker:nth-child(18):hover ~ .card-inner { transform: rotateX(-10deg) rotateY(0deg); }
.tracker:nth-child(19):hover ~ .card-inner { transform: rotateX(-10deg) rotateY(5deg); }
.tracker:nth-child(20):hover ~ .card-inner { transform: rotateX(-10deg) rotateY(10deg); }
.tracker:nth-child(21):hover ~ .card-inner { transform: rotateX(-20deg) rotateY(-10deg); }
.tracker:nth-child(22):hover ~ .card-inner { transform: rotateX(-20deg) rotateY(-5deg); }
.tracker:nth-child(23):hover ~ .card-inner { transform: rotateX(-20deg) rotateY(0deg); }
.tracker:nth-child(24):hover ~ .card-inner { transform: rotateX(-20deg) rotateY(5deg); }
.tracker:nth-child(25):hover ~ .card-inner { transform: rotateX(-20deg) rotateY(10deg); }

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .card-3d:hover .card-inner {
    transform: none !important;
  }

  .parallax {
    transform: none !important;
  }
/* Custom Checkbox Animation */
.checkbox-wrapper input[type="checkbox"] {
  visibility: hidden;
  display: none;
}

.checkbox-wrapper *,
.checkbox-wrapper ::after,
.checkbox-wrapper ::before {
  box-sizing: border-box;
  user-select: none;
}

.checkbox-wrapper {
  position: relative;
  display: block;
  overflow: hidden;
}

.checkbox-wrapper .label {
  cursor: pointer;
  display: flex;
  align-items: center;
}

.checkbox-wrapper .check {
  width: 32px;
  height: 32px;
  position: absolute;
  opacity: 0;
}

.checkbox-wrapper .label svg {
  vertical-align: middle;
}

.checkbox-wrapper .path1 {
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  transition: 0.5s stroke-dashoffset ease;
  opacity: 0;
}

.checkbox-wrapper .checkbox-bg {
  transition: 0.3s all ease;
}

.checkbox-wrapper .check:checked + label svg .checkbox-bg {
  fill: hsl(var(--neon-red) / 0.1);
}

.checkbox-wrapper .check:checked + label svg g path {
  stroke-dashoffset: 0;
  opacity: 1;
}
